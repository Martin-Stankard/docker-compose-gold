version: "3.9"
services:
  httpbin:
    container_name: httpbin
    image: "kennethreitz/httpbin"
    ports:
      - "8000:80"
  pytest:
  # I think this thing can eventually....I guess with a weird prophile reflexive? can "docker compose up" this-./ in itself.
  # some on reflexive script...ok...would need to run another container alpine image...and pytest can hit that...ugg performance to see. 
    container_name: pytest
    build: ./localSrc/pytest  # Add build from Dockerfile at ./localSrc/pytest
    
    volumes:
      - pytest:/app
    depends_on:
      - httpbin
  reflexive: #this it to test the tester. normal ( auto unit w/e ) tests) + docker compose big picture + in/out of docker compose? I want  it tight.
    image: alpine
    profiles:
      - reflexive
    command: sh -c "echo 'Running script in my_profile...some day I will say docker compose up!!!!!! TODO...close off the ports of whatever THIS docker compose ups like a super hero' && sleep 10"
  
  #localstack
  #jenkins? CircleCI?Travis? okboomer....forget it and use the ci cd on aws OR github....TODO is use github hooks anywho. 
  ### CI CD will be, FOR NOW, get it off github into aws asap here so JUST pytest log/react and build container's maybe...
  ### a test script, a build script; for the foreseaable future; docker compose up will be equivalent to future stable 1.0 profile test, env == TEST
  ### so on a prod branch on merge; tests, ask if any human only steps, builds images 
  #local react, tracks tests run? documentation? Test coverage? Minor monitoring. My Martin tree to green
  ### ... react tab per < serviceidk.com / port / ? switch at top lol...reads docker compose stuff <3 >
  # some commercial free open source monitoring and or logging
  # some front end cloud front thought process/aws scalability/cost.
  # mongo db just to be cool and idk wtf schemas I be savin 
  # git automation server for ai trying stuff 
  # time based chrono server thingy, launch agents 
  # hugging bear/openapi server if not a page in the docs.


volumes:
  pytest: